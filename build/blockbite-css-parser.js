(()=>{"use strict";var e,t={69596:function(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateIframeCss=t.updateInlineCss=t.parseCss=t.headingsCss=t.removeStaticParsedStyles=t.initCssParser=t.getEditorIframe=t.cssBlockContent=void 0;const o=n(81848),i=n(90430);function r(e){return e.flatMap((e=>{var t;const{biteClass:n,mediaClass:s,flexClass:o}=e.attributes||{},i={biteClass:n,mediaClass:s,flexClass:o};let a=[];if(null===(t=e.innerBlocks)||void 0===t?void 0:t.length)a=r(e.innerBlocks);else if(e.clientId){const t=wp.data.select("core/block-editor").getBlocks(e.clientId);(null==t?void 0:t.length)&&(a=r(t))}return[i,...a]}))}t.cssBlockContent=()=>r(wp.data.select("core/block-editor").getBlocks()).map((({biteClass:e,mediaClass:t,flexClass:n})=>[e,t,n].filter(Boolean).join(" "))).join(" ");t.getEditorIframe=()=>{const e=document.querySelector(".block-editor-iframe__scale-container");return e?e.querySelector("iframe"):null};t.initCssParser=(e,n,s)=>{const o=document.querySelector(".editor-styles-wrapper");if("xs"===n||"md"===n||"edit-site"===s){const n=(0,t.getEditorIframe)();if(n){return n.contentDocument.body.setAttribute("id",e),n}}if(o){const t=o.parentElement;return t.setAttribute("id",e),t}};t.removeStaticParsedStyles=(e,t)=>{const n=e.getElementById(t);n&&n.remove()};t.headingsCss=(e,t=".wp-block")=>{let n="";return(e||[]).forEach((e=>{""!==e.value&&(n+=`${t} ${e.name} {\n`,n+=` @apply text-${e.value};\n`,e.optional&&e.optional.lineHeight&&(n+=`    line-height: ${e.optional.lineHeight};\n`),e.optional&&e.optional.font&&(n+=` @apply font-${e.optional.font};\n`),n+="  }\n")})),n};t.parseCss=e=>s(void 0,void 0,void 0,(function*(){const{content:t="",config:n={},component:s="",checkBase:r=!1}=e,a=(0,o.createTailwindcss)({tailwindConfig:n});let l="";r&&(l+=` ${blockbite.settings.tw_base?"@tailwind base;":i.tw_base_vars}`),l+="\n      @tailwind components;\n      @tailwind utilities;\n    ",s&&(l+=`\n      ${s}\n      `);const c={content:t};try{return yield a.generateStylesFromContent(l,[c.content.trim()])}catch(e){if("CssSyntaxError"===e.name){const t=/`([^`]*)`/g.exec(e.message);if(t){const e=t[1];wp.data.dispatch("core/notices").createNotice("error",`Error on saving the blockbites, it looks likes there is tailwind class that doesn't exist.\n              Please check your bitestyle that generated this wrong classname: ${e} and remove it. Help us to prevent this error by creating an issue on github`,{id:"blockbite-notice",isDismissible:!0,actions:[{url:`https://github.com/block-bite/blockbite-dev/issues/new?title=wrong tailwind%20classname%20${e}`,label:"Create issue on github"}]})}return""}throw e}}));t.updateInlineCss=(e,n)=>(0,t.parseCss)(e).then((e=>{let t=document.getElementById(n);if(t)t.innerHTML=e;else{const t=document.createElement("style");t.id=n,t.innerHTML=e,document.head.appendChild(t)}}));t.updateIframeCss=(e,n,s)=>(0,t.parseCss)(e).then((e=>{if(n&&n.contentDocument){const t=n.contentDocument;let o=t.getElementById(s);o||(o=t.createElement("style"),o.id=s,t.head.appendChild(o)),o.innerHTML=e}})),t.default={cssBlockContent:t.cssBlockContent,updateInlineCss:t.updateInlineCss,parseCss:t.parseCss,headingsCss:t.headingsCss,removeStaticParsedStyles:t.removeStaticParsedStyles}}},n={};function s(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,s),i.exports}s.m=t,e=[],s.O=(t,n,o,i)=>{if(!n){var r=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],i=e[d][2];for(var a=!0,l=0;l<n.length;l++)(!1&i||r>=i)&&Object.keys(s.O).every((e=>s.O[e](n[l])))?n.splice(l--,1):(a=!1,i<r&&(r=i));if(a){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,o,i]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={950:0};s.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,r=n[0],a=n[1],l=n[2],c=0;if(r.some((t=>0!==e[t]))){for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(l)var d=l(s)}for(t&&t(n);c<r.length;c++)i=r[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},n=self.webpackChunkblockbite=self.webpackChunkblockbite||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=s.O(void 0,[841,395],(()=>s(69596)));o=s.O(o)})();