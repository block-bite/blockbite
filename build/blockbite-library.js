(()=>{"use strict";const e=window.React,t=window.wp.data,l=window.wp.element,r=window.wp.i18n,o=({isOpen:t,children:l,onClose:r})=>{const o=t?"show":"hide";return(0,e.createElement)("div",{className:`blockbite--modal ${o} `},(0,e.createElement)("div",{className:"blockbite--modal__content"},(0,e.createElement)("button",{className:"blockbite--modal__close",onClick:()=>{r(!1)}},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,e.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})),(0,e.createElement)("span",null," close")),(0,e.createElement)("div",{className:"blockbite--modal__scrollable"},l)),(0,e.createElement)("div",{className:"blockbite--modal__overlay"}))},c=(window.wp.apiFetch,()=>{const t=(0,l.useCallback)((()=>{a()}),[a]);return(0,e.createElement)("span",{onClick:t,className:"blockbite__library-button__react"},(0,r.__)("Blockbite Library","blockbite"))}),n=()=>{const[t,l]=(0,e.useState)(!0),[r,c]=(0,e.useState)([]);return(0,e.useEffect)((()=>{const e=`${blockbiteLibrary.libraryUrl}/get-blocks`;fetch(e).then((e=>e.json())).then((e=>{c(e)}))}),[]),(0,e.createElement)(o,{isOpen:t,onClose:e=>l(!1)},(0,e.createElement)("div",{className:"editor-styles-wrapper"},(0,e.createElement)((()=>{const t=[];return r.map(((r,o)=>{t.push((0,e.createElement)("div",{key:o,className:"blockbite__library--item"},(0,e.createElement)("div",{className:"blockbite__library--info"},(0,e.createElement)("h3",{className:"text-2xl"},r.title),(0,e.createElement)("p",null,r.description),(0,e.createElement)("button",{className:"button button-primary w-128",onClick:()=>{wp.data.dispatch("core/block-editor").insertBlocks(wp.blocks.rawHandler({HTML:r.content})),l(!1)}},"Insert")),(0,e.createElement)("div",{className:"blockbite__library--preview",dangerouslySetInnerHTML:{__html:r.preview}})))})),t}),null)))},a=()=>{const t=document.querySelector(".block-editor");if(t){const r=document.createElement("div");r.classList.add("blockbite__library-modal"),t.append(r),(0,l.createRoot)(document.querySelector(".blockbite__library-modal")).render((0,e.createElement)(n,null))}};(0,t.subscribe)((()=>{const t=document.querySelector(".edit-post-header-toolbar");if(null!==t){if(document.querySelector(".blockbite__library-button"))return;const r=document.createElement("button");r.classList.add("blockbite__library-button"),r.classList.add("button"),t.append(r),(0,l.createRoot)(document.querySelector(".blockbite__library-button")).render((0,e.createElement)(c,null))}}))})();