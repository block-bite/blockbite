/*! For license information please see blockbite-settings.js.LICENSE.txt */
(()=>{var e={6850:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exportJson=void 0,t.exportJson=(e,t)=>{const n=new Blob([JSON.stringify(e)],{type:"application/json"}),a=URL.createObjectURL(n),l=document.createElement("a");l.href=a,l.download=`${t}.json`,l.target="_blank",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)}},8234:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsPanel=void 0;const l=a(n(1609)),r=a(n(3022)),o=n(8926);t.SettingsPanel=()=>l.default.createElement("section",{className:"settings-panel"},l.default.createElement(o.TabsWrapper,{defaultValue:"blockbite"},l.default.createElement(o.TabsList,{className:"max-w-[500px]",options:[{name:"blockbite",title:"Blockbite"},{name:"synchronisation",title:"Synchronisation"}]}),l.default.createElement(o.TabsContent,{value:"synchronisation"},l.default.createElement(r.default,null)))),t.default=t.SettingsPanel},3022:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var l=Object.getOwnPropertyDescriptor(t,n);l&&!("get"in l?!t.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,l)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return l(t,e),t},o=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(l,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function i(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}s((a=a.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SynchronisationPanel=void 0;const s=r(n(1609)),c=i(n(1455)),u=n(5153),d=n(6850),f=n(6427),p=n(8926);t.SynchronisationPanel=()=>{const[e,t]=(0,s.useState)(""),[n,a]=(0,s.useState)({from:"",to:""}),[l,r]=(0,s.useState)(wpApiSettings.itemsVersion),i=e=>o(void 0,void 0,void 0,(function*(){try{const t=yield(0,c.default)({path:`/blockbite/v1/settings/site/sync-items?handle=${e}`,method:"GET"});(0,d.exportJson)(t,e)}catch(e){console.error(e)}})),m=(e,n)=>o(void 0,void 0,void 0,(function*(){const a=e.currentTarget.files[0],l=new FormData;l.append("file",a),l.append("handle",n);try{200===(yield(0,c.default)({path:"/blockbite/v1/settings/site/sync-items",method:"POST",body:l})).status&&t("Preset imported successfully")}catch(e){console.error(e)}})),b=e=>o(void 0,void 0,void 0,(function*(){try{const t=yield(0,c.default)({path:"/blockbite/v1/settings/blockbite/sync-items",method:"POST",data:{version:l,handle:e,platform:"blockbite"}});(0,d.exportJson)(t,"preset")}catch(e){}}));return s.default.createElement("div",{className:"synchronisation-panel p-4"},s.default.createElement(p.TabsWrapper,{defaultValue:"preset"},s.default.createElement(p.TabsList,{className:"max-w-[500px]",options:[{name:"preset",title:"Preset"},{name:"templates",title:"Templates"},{name:"tokens",title:"Tokens"}]}),s.default.createElement(p.TabsContent,{value:"preset"},s.default.createElement("div",{className:"grid grid-cols-2 gap-4"},s.default.createElement("div",null,s.default.createElement("h4",null,"Export Preset"),s.default.createElement(u.Button,{onClick:()=>i("preset")},"Export")),s.default.createElement("div",null,s.default.createElement("h4",null,"Import Preset"),s.default.createElement(f.FormFileUpload,{accept:"json",onChange:e=>m(e,"preset")},"Select json file"),e&&s.default.createElement("span",null,e))),s.default.createElement("div",null,s.default.createElement("h4",null,"Sync blockbite Preset"),s.default.createElement("p",null,"Synchronize blockbite presets to your preset panel"),s.default.createElement("pre",null,"Select version ",l),s.default.createElement(u.Button,{onClick:()=>b("preset")},"Sync"))),s.default.createElement(p.TabsContent,{value:"tokens"},s.default.createElement("div",{className:"grid grid-cols-2 gap-4"},s.default.createElement("div",null,s.default.createElement("h4",null,"Export Tokens"),s.default.createElement(u.Button,{onClick:()=>i("design-tokens")},"Export")),s.default.createElement("div",null,s.default.createElement("h4",null,"Import Tokens"),s.default.createElement(f.FormFileUpload,{accept:"json",onChange:e=>m(e,"design-tokens")},"Select json file"),e&&s.default.createElement("span",null,e))),s.default.createElement("div",null,s.default.createElement("h4",null,"Sync blockbite Tokens"),s.default.createElement("p",null,"Synchronize blockbite Tokens to your preset panel"),s.default.createElement("pre",null,"Select version ",l),s.default.createElement(u.Button,{onClick:()=>b("design-tokens")},"Sync"))),s.default.createElement(p.TabsContent,{value:"templates"},s.default.createElement("h4",null,"Export Templates"),s.default.createElement("p",null,"Exports blockbite templates to your theme within a new folder called",s.default.createElement("span",{className:"text-primary"},"migrated-templates")),s.default.createElement("strong",null,"Find and Replace theme name"),s.default.createElement(f.TextControl,{label:"Find",value:n.from,onChange:e=>a(Object.assign(Object.assign({},n),{from:e}))}),s.default.createElement(f.TextControl,{label:"Replace",value:n.to,onChange:e=>a(Object.assign(Object.assign({},n),{to:e}))}),s.default.createElement(u.Button,{onClick:()=>o(void 0,void 0,void 0,(function*(){try{const e=yield(0,c.default)({path:"/blockbite/v1/settings/migrate-templates",method:"POST",data:{find:n.from,replace:n.to}});t(e.message)}catch(e){console.error(e)}}))},"Export"),e&&s.default.createElement("span",null,e))))},t.default=t.SynchronisationPanel},5153:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;const l=a(n(1609)),r=a(n(6942)),o=n(6427);t.Button=({children:e,size:t="small",className:n,onClick:a,variant:i="primary"})=>l.default.createElement(o.Button,{size:"small",variant:i,className:(0,r.default)("flex items-center justify-center gap-1 rounded-xl hover:opacity-70",{"is-primary":"primary"===i},{"is-secondary":"secondary"===i},{"is-link":"link"===i},{"is-tertiary":"tertiary"===i}),onClick:a},e)},8926:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var l=Object.getOwnPropertyDescriptor(t,n);l&&!("get"in l?!t.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,l)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return l(t,e),t},o=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TabsContent=t.TabsList=t.TabsWrapper=void 0;const s=r(n(1609)),c=i(n(6942)),u=n(6427),d=(0,s.createContext)(null);t.TabsWrapper=e=>{var{children:t,defaultValue:n,value:a,onValueChange:l}=e,r=o(e,["children","defaultValue","value","onValueChange"]);const[i,c]=(0,s.useState)(n||""),u={activeTab:i,setActiveTab:c};return a&&l&&(u.activeTab=a,u.setActiveTab=l),s.default.createElement(d.Provider,{value:u},s.default.createElement("div",{className:r.className||""},t))},t.TabsList=({options:e,children:t,className:n,onValueChange:a})=>{const l=(0,s.useContext)(d),r=a||(null==l?void 0:l.setActiveTab);return s.default.createElement(u.TabPanel,{className:(0,c.default)("tabs-list",n),tabs:e,onSelect:e=>{r(e)}},(e=>t))},t.TabsContent=({value:e,children:t,className:n})=>{const a=(0,s.useContext)(d);return(null==a?void 0:a.activeTab)===e?s.default.createElement("div",{className:n},t):null}},1609:e=>{"use strict";e.exports=window.React},1455:e=>{"use strict";e.exports=window.wp.apiFetch},6427:e=>{"use strict";e.exports=window.wp.components},6942:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function l(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,r(n)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return l.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)a.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(l.default=l,e.exports=l):void 0===(n=function(){return l}.apply(t,[]))||(e.exports=n)}()}},t={};function n(a){var l=t[a];if(void 0!==l)return l.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.element;var t=n(8234),a=n.n(t),l=function(){return React.createElement(a(),null)},r=document.getElementById("blockbite-settings");(0,e.createRoot)(r).render(React.createElement(l,null))})()})();