!function(){"use strict";var e=window.wp.blocks,t=window.wp.element,l=window.wp.blockEditor,a=window.wp.components,n=window.wp.i18n;function i(e){const{buttonData:l,active:n}=e,[i,c]=(0,t.useState)(null);return(0,t.useEffect)((()=>{c(n)}),[n]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(a.ButtonGroup,null,(0,t.createElement)(o,{active:i,buttonData:l,onActiveButton:t=>(t=>{e.parentCallback(t)})(t)})))}function o({buttonData:e=[],onActiveButton:l,active:n}){const i=[];return e.forEach((e=>{i.push((0,t.createElement)(a.Button,{key:e,variant:e===n?"primary":"secondary",onClick:()=>l(e)},e))})),i}function c({mediaProps:e,imageProps:o,mediaCallback:c,imagePropsCallback:r}){const[s,u]=(0,t.useState)({id:null,url:"",sizes:[],alt:"",type:"",width:0,height:0}),[m,p]=(0,t.useState)({imageFit:"contain",imagePosition:"center",imageEffect:"opacity-100",imageFilter:""});(0,t.useEffect)((()=>{e&&u({...e}),o&&p({...o})}),[e,o]);const d=(e,t)=>{const l={...m};l[e]=t;const a=[(n=l).imageEffect,n.imageFilter,n.imageScale,"object-"+n.imageFit,"object-"+n.imagePosition,"max-w-full","max-h-full"].join(" ");var n;r({...l},a)},b=e=>{const t=["large","medium","thumbnail"],l=[];for(const a in e.sizes)t.includes(a)&&(l[a]=e.sizes[a].url);const a={id:e.id,url:e.url,sizes:l,alt:e.alt,type:e.type,width:e.width,height:e.height};c({...a})};return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(a.PanelRow,null,null!==s.id&&(0,t.createElement)(l.MediaUploadCheck,null,(0,t.createElement)(l.MediaUpload,{onSelect:b,value:s.id,allowedTypes:["image","video"],render:({open:e})=>(0,t.createElement)(a.Button,{className:0==s.id?"editor-post-featured-image__toggle":"editor-post-featured-image__preview",onClick:e},0==s.id&&(0,n.__)("Choose an image","blockbite"),s.id&&(0,t.createElement)("div",{className:"blockbite--editor-visual-image"},(0,t.createElement)("img",{src:s.url})))})),0!=s.id&&(0,t.createElement)(l.MediaUploadCheck,null,(0,t.createElement)(l.MediaUpload,{title:(0,n.__)("Replace image","blockbite"),value:s.id,onSelect:b,allowedTypes:["image"],render:({open:e})=>(0,t.createElement)(a.Button,{onClick:e},(0,n.__)("Replace image","blockbite"))})),0!=s.id&&(0,t.createElement)(l.MediaUploadCheck,null,(0,t.createElement)(a.Button,{onClick:()=>{c({mediaId:0,mediaUrl:""})},isDestructive:!0},(0,n.__)("Remove image","blockbite")))),(0,t.createElement)(a.PanelRow,null,(0,t.createElement)(i,{buttonData:["contain","cover","fill"],active:m.imageFit,parentCallback:e=>d("imageFit",e)})),(0,t.createElement)(a.PanelRow,null,(0,t.createElement)(a.SelectControl,{label:"Image Position",value:m.imagePosition,options:[{label:"Center",value:"center"},{label:"Bottom",value:"bottom"},{label:"Top",value:"top"},{label:"Left",value:"left"},{label:"Left Bottom",value:"left-bottom"},{label:"Left Top",value:"left-top"},{label:"Right",value:"right"},{label:"Right Bottom",value:"right"},{label:"Right Top",value:"right-top"}],onChange:e=>d("imagePosition",e)})),(0,t.createElement)(a.PanelRow,null,(0,t.createElement)(a.SelectControl,{label:"Effect",value:m.imageEffect,options:[{label:"Opacity 100",value:""},{label:"Opacity 90",value:"opacity-90"},{label:"Opacity 80",value:"opacity-80"},{label:"Opacity 50",value:"opacity-70"},{label:"Opacity 30",value:"opacity-60"},{label:"Opacity 70",value:"opacity-50"},{label:"Opacity 50",value:"opacity-40"},{label:"Opacity 30",value:"opacity-30"},{label:"Opacity 20",value:"opacity-20"},{label:"Mix blend multiply",value:"mix-blend-multiply"}],onChange:e=>d("imageEffect",e)})),(0,t.createElement)(a.PanelRow,null,(0,t.createElement)(a.SelectControl,{label:"Filter",value:m.imageFilter,options:[{label:"none",value:""},{label:"grayscale",value:"grayscale"},{label:"saturate 50",value:"saturate-50"},{label:"saturate 100",value:"saturate-100"},{label:"blur small",value:"blur-sm"},{label:"blur large",value:"blur-lg"},{label:"contrast",value:"contrast-50"},{label:"invert",value:"invert"}],onChange:e=>d("imageFilter",e)})),(0,t.createElement)(a.PanelRow,null,(0,t.createElement)(a.SelectControl,{label:"Scale",value:m.imageScale,options:[{label:"100%",value:""},{label:"95%",value:"scale-95"},{label:"90%",value:"scale-90"},{label:"75%",value:"scale-75"},{label:"50%",value:"scale-50"},{label:"105%",value:"scale-105"},{label:"110%",value:"scale-110"},{label:"125%",value:"scale-125"},{label:"screen",value:"w-screen"}],onChange:e=>d("imageScale",e)})))}var r=window.wp.data;function s(e){const l=(0,r.useSelect)((e=>e("core/block-editor").getBlocks())),n=(0,r.useSelect)((e=>{const{getSelectedBlock:t}=e("core/block-editor");return t()}),[]),i=(0,r.useDispatch)(),o=["biteClass","biteStyle","biteMotion","imageClass","imageProps","backgroundColor","textColor","style","verticalAlignment","isStackedOnMobile","width","height","className","animationsForBlocks","fontFamily","fontSize","level","hasCenteredContent","hasContainer","hasEqualColumns","desktopProps","tabletProps","mobileProps","gridClass","svgSize","hasColumns","hasColumnsMobile","gapX","gapY","innerClass","flexStyle","flexClass"],c=e=>e.map((e=>{const t=(e=>{const t={};if(e.attributes)for(const l in e.attributes)o.includes(l)&&(t[l]=e.attributes[l]);return t})(e);if(e.innerBlocks.length>0){const l=c(e.innerBlocks);return{name:e.name,attributes:t,innerBlocks:l}}return{name:e.name,attributes:t,innerBlocks:[]}})),s=(e,t)=>e.map(((e,l)=>{var a,n;if(t[l]&&t[l].name===e.name){const c=e,r=t[l];if(c.innerBlocks.length>0&&r.innerBlocks.length>0&&s(c.innerBlocks,r.innerBlocks),c.name===r.name){const t={...e.attributes};for(const l in e.attributes)o.includes(l)&&(t[l]=r.attributes[l]);a=e.clientId,n=t,i("core/block-editor").updateBlockAttributes(a,n)}}}));return(0,t.createElement)(a.PanelBody,{title:e.title,initialOpen:!1},(0,t.createElement)("div",null,(0,t.createElement)("p",{class:"my-16 block"},"Only works if the type & amount of elements within this layout are the same"),(0,t.createElement)("div",{className:"flex gap-8"},(0,t.createElement)(a.Button,{variant:"secondary",onClick:()=>(()=>{const e=c(l),t=JSON.stringify(e);localStorage.setItem("blockbite_copy",t)})()},"Copy All"),(0,t.createElement)(a.Button,{variant:"secondary",onClick:()=>(()=>{const e=JSON.parse(localStorage.getItem("blockbite_copy"));s(l,e)})()},"Paste All")),(0,t.createElement)("div",null,(0,t.createElement)("p",null,"Copy Single Block Style"),(0,t.createElement)("div",{className:"flex gap-8"},(0,t.createElement)(a.Button,{variant:"secondary",onClick:()=>(()=>{const e=[];e.push(n);const t=c(e),l=JSON.stringify(t);localStorage.setItem("blockbite_copy",l)})()},"Copy Block Style"),(0,t.createElement)(a.Button,{variant:"secondary",onClick:()=>(()=>{const e=[];e.push(n);const t=JSON.parse(localStorage.getItem("blockbite_copy"));s(e,t)})()},"Paste Block Style")))))}function u(e){const{media:l,imageClass:a,extraClass:n}=e,{url:i,alt:o,width:c,height:r,sizes:s}=l;let u=i,m=i,p=i;if(void 0!==s&&s.length>0){const{thumbnail:e,medium:t,large:l}=s}return(0,t.createElement)("picture",{className:"w-full h-full"},u?(0,t.createElement)("source",{media:"(max-width: 576px)",srcSet:u,className:`${a} ${n}`}):null,m?(0,t.createElement)("source",{media:"(min-width: 768px)",srcSet:m,className:`${a} ${n}`}):null,p?(0,t.createElement)("source",{media:"(min-width: 1200px)",srcSet:p,className:`${a} ${n}`}):null,m?(0,t.createElement)("img",{src:m,alt:o,className:`${a} ${n}`}):null)}var m=JSON.parse('{"u2":"blockbite/visual"}');(0,e.registerBlockType)(m.u2,{example:{attributes:{message:"Visual"}},icon:function(){return(0,t.createElement)("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)("rect",{width:"50",height:"50",fill:"white"}),(0,t.createElement)("rect",{x:"2",y:"2",width:"46",height:"46",rx:"10",fill:"url(#paint0_linear_0_3)"}),(0,t.createElement)("path",{d:"M35.5 15.6667H14.5C14.1906 15.6667 13.8938 15.7896 13.6751 16.0084C13.4563 16.2272 13.3333 16.5239 13.3333 16.8333V33.1667C13.3333 33.4761 13.4563 33.7728 13.6751 33.9916C13.8938 34.2104 14.1906 34.3333 14.5 34.3333H35.5C35.8094 34.3333 36.1062 34.2104 36.325 33.9916C36.5438 33.7728 36.6667 33.4761 36.6667 33.1667V16.8333C36.6667 16.5239 36.5438 16.2272 36.325 16.0084C36.1062 15.7896 35.8094 15.6667 35.5 15.6667ZM19.1667 19.1667C19.6282 19.1667 20.0793 19.3035 20.463 19.5599C20.8467 19.8163 21.1458 20.1807 21.3224 20.6071C21.499 21.0334 21.5452 21.5026 21.4552 21.9552C21.3651 22.4078 21.1429 22.8236 20.8166 23.1499C20.4903 23.4762 20.0745 23.6985 19.6219 23.7885C19.1693 23.8785 18.7001 23.8323 18.2737 23.6557C17.8474 23.4791 17.483 23.18 17.2266 22.7963C16.9702 22.4126 16.8333 21.9615 16.8333 21.5C16.8333 20.8812 17.0792 20.2877 17.5168 19.8501C17.9543 19.4125 18.5478 19.1667 19.1667 19.1667ZM34.3333 32H15.6667V30.0552L20.3333 26.1667L23.6665 28.6668L29.6667 22.6667L34.3333 28.8885V32Z",fill:"white"}),(0,t.createElement)("defs",null,(0,t.createElement)("linearGradient",{id:"paint0_linear_0_3",x1:"53.5",y1:"11.5",x2:"25",y2:"48",gradientUnits:"userSpaceOnUse"},(0,t.createElement)("stop",{stopColor:"#414996"}),(0,t.createElement)("stop",{offset:"1",stopColor:"#B200F1"}))))},edit:function({attributes:e,setAttributes:n,clientId:i}){const{blockId:o,media:r,imageProps:m,imageClass:p,isBanner:d}=e;(0,t.useEffect)((()=>{o||n({blockId:i})}),[]);const b=(0,l.useBlockProps)({className:"overflow-hidden"}),{children:g,...v}=(0,l.useInnerBlocksProps)({className:"z-10 absolute top-0 left-0 w-full h-full flex items-center justify-center"});return(0,t.createElement)("div",{...b},(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:"Visual",initialOpen:!0},(0,t.createElement)(c,{mediaProps:r,imageProps:m,mediaCallback:e=>(e=>{n({media:e})})(e),imagePropsCallback:(e,t)=>{((e,t)=>{n({imageProps:{...e},imageClass:t})})(e,t)}}),(0,t.createElement)(a.PanelRow,null,(0,t.createElement)(a.ToggleControl,{label:"Create banner",help:d?"Place text on visual":"Only visual",checked:d,onChange:()=>{n({isBanner:!d})}}))),(0,t.createElement)(s,{title:"Copy & Paste Styles"})),(0,t.createElement)(u,{media:r,imageClass:p,extraClass:"",key:`visual_image__${o}`}),d?(0,t.createElement)("div",{...v},g):null)},save:function({attributes:e}){const{media:a,imageClass:n,isBanner:i}=e,o=l.useBlockProps.save({className:"overflow-hidden"}),{children:c,...r}=l.useInnerBlocksProps.save({className:"z-10 absolute top-0 left-0 w-full h-full flex items-center justify-center"});return(0,t.createElement)("div",{...o},(0,t.createElement)(u,{media:a,imageClass:n,extraClass:""}),i?(0,t.createElement)("div",{...r},c):null)}})}();