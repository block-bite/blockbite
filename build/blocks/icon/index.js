(()=>{"use strict";var e={8035:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var l=Object.getOwnPropertyDescriptor(t,n);l&&!("get"in l?!t.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,l)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return l(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({parentCallback:e,initialIconCode:t}){const[n,r]=(0,a.useState)({icon_url:"",icons:[]}),[l,o]=(0,a.useState)(""),[i,f]=(0,a.useState)(""),[d,p]=(0,a.useState)(!0),b={icon_url:n.icon_url,icons:n.icons.filter((e=>e.toLowerCase().includes(i.toLowerCase())))};return(0,a.useEffect)((()=>{(0,c.default)({path:"/blockbite/v1/block-helpers/get-icons/"}).then((e=>{r({icon_url:e.icon_url,icons:e.icons.map((e=>e))}),p(!1)}))}),[]),(0,a.useEffect)((()=>{""!==l&&(f(""),(0,c.default)({path:"/blockbite/v1/block-helpers/pick-icon/"+l}).then((t=>{(t=>{void 0!==t&&e(t)})(t)})))}),[l]),a.default.createElement(u.ToolbarDropdownMenu,{icon:l?a.default.createElement("img",{className:"blockbite--editor-icon",width:"24px",height:"24px",src:`${n.icon_url}/${l}.svg`}):a.default.createElement("img",{className:"blockbite--editor-icon",width:"24px",height:"24px",src:`data:image/svg+xml;utf8,${encodeURIComponent(t)}`}),label:"Change icon",controls:s({iconData:b,onActiveIcon:o}),children:()=>d?a.default.createElement("span",null,"Loading icons…"):0===n.icons.length?a.default.createElement("p",null,"No icons found. Icons should be added to:",a.default.createElement("br",null),"your_theme/resources/svg/"):a.default.createElement("div",{className:"min-w-36 p-2"},a.default.createElement(u.TextControl,{label:"Search icons",value:i,placeholder:"arrow-up",onChange:e=>f(e)}))})};const a=o(n(1609)),c=i(n(1455)),u=n(6427);function s({iconData:e,onActiveIcon:t}){const n=[];return null==e.icons?[]:(e.icons.forEach((r=>{n.push({title:r,icon:a.default.createElement("img",{className:"blockbite--editor-icon",width:"24px",height:"24px",src:`${e.icon_url}/${r}.svg`,onClick:()=>t(r)}),onClick:()=>t(r)})})),n)}},2476:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var l=Object.getOwnPropertyDescriptor(t,n);l&&!("get"in l?!t.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,l)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return l(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({linkUrl:e,linkTitle:t,linkTarget:n,linkTile:r,showLinkTile:l,parentCallback:o}){const[i]=(0,a.useState)(!1),[f,m]=(0,a.useState)(!0),[h,g]=(0,a.useState)(""),[v,y]=(0,a.useState)(""),[k,w]=(0,a.useState)(!1),[_,C]=(0,a.useState)(!1),[O,E]=(0,a.useState)(""),[S,j]=(0,a.useState)([]),[T,P]=(0,a.useState)(null);(0,a.useEffect)((()=>{"_blank"===n&&w(!0),r&&C(!0),e&&(g(e),m(!1)),t&&y(t)}),[]);const x=()=>{const e={linkTile:"",linkTarget:"_self"};return v&&(e.linkTitle=v),h&&(e.linkUrl=h),e.linkTile=r,e.linkTarget=k?"_blank":"_self",e};(0,a.useEffect)((()=>{let e=Object.assign({},x());o(e)}),[v,h,k,_]),(0,a.useEffect)((()=>{""!==O&&(j(null),(0,u.default)({path:`/blockbite/v1/block-helpers/get-links/${O}`}).then((e=>{e.length?j([...e]):j([])})))}),[O]),(0,a.useEffect)((()=>{if(null!=(null==T?void 0:T.url)&&""!==(null==T?void 0:T.url)){const e=Object.assign({},x());e.linkTitle=T.title,e.linkUrl=T.url,y(T.title),g(T.url),o(e)}}),[T]);const M=[...b({linkData:[...S||[],...O?[{id:0,post_type:"custom",title:"",label:"Custom link",url:O}]:[]],onActiveLink:e=>{P(Object.assign({},e)),m(!1),E("")}})];return a.default.createElement(s.ToolbarDropdownMenu,{icon:a.default.createElement(p.Icon,{icon:d.default}),label:"Change link",controls:f?M:[],children:()=>a.default.createElement("div",{className:"min-w-48 p-2"},i&&a.default.createElement("span",{style:{color:"red"}},i),f?a.default.createElement(s.TextControl,{label:(0,c.__)("Search link","blockbitelinks"),value:O,placeholder:"Example: About",onChange:e=>E(e),help:(0,c.__)("Type a post, page, title","blockbitelinks"),autoComplete:"off"}):a.default.createElement("div",null,a.default.createElement("span",{className:"font-semibold"},v),v&&h&&a.default.createElement("br",null),a.default.createElement("span",null,h),a.default.createElement("div",{className:"mt-4"},a.default.createElement(s.Button,{variant:"secondary",onClick:()=>m(!0)},"Edit link"))),l&&a.default.createElement(s.ToggleControl,{label:"Link as Tile",help:_?"Make the whole area clickable":"Make only the button clickable",checked:_,onChange:e=>C(e)}))})};const a=o(n(1609)),c=n(7723),u=i(n(1455)),s=n(6427),f=n(8928),d=i(n(4113)),p=n(5161);function b({linkData:e,onActiveLink:t}){const n=[];return null==e?[]:(e.forEach((e=>{let r=`${e.label||e.title} – ${e.url}`;r=(0,f.truncateString)(r,72),n.push({title:r,onClick:()=>t(e)})})),n)}},5161:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=void 0;const l=r(n(1609));t.Icon=({icon:e,className:t=""})=>e?l.default.createElement("div",{className:`blockbite--icon ${t}`},l.default.createElement(e,null)," "):null},8928:(e,t)=>{function n(e,t){const n=e.lastIndexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}Object.defineProperty(t,"__esModule",{value:!0}),t.truncateString=function(e,t){return e.length>t?e.slice(0,t)+"…":e},t.convertImageToBase64=function(e){return new Promise(((t,n)=>{fetch(e).then((e=>e.blob())).then((e=>{const r=new FileReader;r.onloadend=()=>{const e=r.result;t(e)},r.onerror=n,r.readAsDataURL(e)})).catch(n)}))},t.splitOnLast=n,t.getStylesObjectsFromTailwindClasses=function(e){const t=[],l=[],o=blockbite.codex.modifiers,i=o.filter((e=>!r.includes(e.id))),a=o.filter((e=>r.includes(e.id)));return e.split(" ").forEach((e=>{const[r]=n(e,"-"),o=i.find((t=>null==t.selector?t.options.filter((t=>t.value===e)).length:`${r}-`.startsWith(t.selector))),c=a.find((t=>null==t.selector?t.options.filter((t=>t.value===e)).length:`${r}-`.startsWith(t.selector)));o?t.push({id:o.id,value:e.replace(o.selector||"",""),screen:"all",interaction:"",strategies:[]}):c&&l.push({id:c.id,value:e.replace(c.selector||"",""),screen:"all",interaction:"",strategies:[]})})),{biteStyle:t,flexStyle:l}};const r=["flextype","flexdirection","flexalignjustify","flexalignitems","gridcols","gridrows","gridarea","gridjustifyitems","gridalignitems","flexgapa","flexgapx","flexgapy","flexwidth","flexheight","flexposition","spacex","spacey","zindex"]},4113:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r=n(1609);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(null,arguments)}const o=function(e){return r.createElement("svg",l({width:e.width||"1em",height:e.height||"1em",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645ZM11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547L11.5 2.20711Z",fill:"currentColor"}))}},1609:e=>{e.exports=window.React},1455:e=>{e.exports=window.wp.apiFetch},6427:e=>{e.exports=window.wp.components},7723:e=>{e.exports=window.wp.i18n}},t={};function n(r){var l=t[r];if(void 0!==l)return l.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};const r=window.wp.blocks;var l=n(6427),o=n(7723);const i=window.wp.blockEditor;var a=n(1609),c=n.n(a),u=n(8035),s=n.n(u);const f=window.wp.element;function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=function(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,o,i,a=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){u=!0,l=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw l}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=e.linkUrl,n=e.linkTitle,r=e.linkTarget,i=e.linkTile,a=e.showLinkTile,c=e.parentCallback,u=h((0,f.useState)(!1),2),s=(u[0],u[1],h((0,f.useState)(""),2)),d=s[0],p=s[1],m=h((0,f.useState)(""),2),g=m[0],v=m[1],y=h((0,f.useState)(!1),2),k=y[0],w=y[1],_=h((0,f.useState)(!1),2),C=_[0],O=_[1];(0,f.useEffect)((function(){"_blank"===r&&w(!0),i&&O(!0),t&&p(t),n&&v(n)}),[]),(0,f.useEffect)((function(){var e=b({},E());c(e)}),[g,d,k,C]);var E=function(){var e={};return g&&(e.linkTitle=g),d&&(e.linkUrl=d),e.linkTile=i,e.linkTarget=k?"_blank":"_self",e};return React.createElement(React.Fragment,null,React.createElement(l.PanelRow,null,React.createElement("fieldset",null,React.createElement(l.TextControl,{label:(0,o.__)("Title","blockbite-icon"),value:g,onChange:function(e){return v(e)},help:(0,o.__)("Change your button title...","blockbite-icon")}),React.createElement(l.TextControl,{label:(0,o.__)("Url","blockbite-icon"),value:d,onChange:function(e){return p(e)},help:(0,o.__)("Change your button url...","blockbite-icon")}),React.createElement(l.Button,{variant:"secondary",onClick:function(){var e=b({},E());e.linkTitle="",e.linkUrl="",p(""),v(""),c(e)}},"Clear link"))),React.createElement(l.PanelRow,null,React.createElement(l.ToggleControl,{label:"Open in tab",help:k?"Open in tab":"Within site",checked:k,onChange:function(e){return w(e)}})),a&&React.createElement(l.PanelRow,null,React.createElement(l.ToggleControl,{label:"Link as Tile",help:C?"Make the whole area clickable":"Make only the button clickable",checked:C,onChange:function(e){return O(e)}})))}window.wp.url;var y=n(2476),k=n.n(y);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e,t,n){return(t=function(e){var t=function(e){if("object"!=w(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==w(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const O=JSON.parse('{"UU":"blockbite/icon"}');function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(null,arguments)}(0,r.registerBlockType)(O.UU,{example:{attributes:{message:"Section"}},icon:function(e){return a.createElement("svg",E({width:e.width||"1em",height:e.height||"1em",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img"},e),a.createElement("rect",{width:50,height:50,fill:"currentColor"}),a.createElement("path",{d:"M34.816 23.194C35.1018 24.6551 35.0474 26.1624 34.657 27.5991C34.2667 29.0358 33.5508 30.3634 32.565 31.479C30.5 33.789 27.828 34 25 34C22.172 34 19.491 33.789 17.432 31.479C16.4471 30.3629 15.7321 29.0352 15.3422 27.5985C14.9524 26.1619 14.8983 24.6549 15.184 23.194C16.5278 22.891 17.9293 22.9663 19.2329 23.4115C20.5365 23.8567 21.6912 24.6544 22.569 25.716C23.8094 27.1086 24.6495 28.8113 25 30.643C25.3463 28.8113 26.1842 27.1082 27.424 25.716C28.3034 24.6544 29.4594 23.8569 30.7641 23.4118C32.0687 22.9667 33.4711 22.8913 34.816 23.194ZM25 16C23.0385 17.3839 21.6928 19.477 21.248 21.836C22.3072 22.4079 23.2593 23.159 24.062 24.056C24.3984 24.4319 24.7117 24.828 25 25.242C25.2874 24.8275 25.6 24.4311 25.936 24.055C26.7405 23.1567 27.6947 22.4046 28.756 21.832C28.31 19.4735 26.9628 17.3816 25 16Z",fill:"#F5F5F5"}))},edit:function(e){var t=e.attributes,n=e.setAttributes,r=e.clientId,a=t.svgCode,u=t.linkUrl,f=t.linkTitle,d=t.linkTarget,p=function(e){n({svgCode:e})},b=function(e){n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},m=(0,i.useBlockProps)({className:"".concat(u?"bf-relative":"")}),h=function(){return wp.data.select("core/block-editor").getBlockParentsByBlockName(r,"blockbite/advanced-button").length>0};return c().createElement("div",m,c().createElement("span",{dangerouslySetInnerHTML:{__html:a}}),c().createElement(i.InspectorControls,null,c().createElement(l.PanelBody,{title:(0,o.__)("Svg Settings","blockbite-icon"),initialOpen:!0},c().createElement(l.PanelRow,null,c().createElement("div",{className:"flex flex-col gap-4"},c().createElement("fieldset",null,c().createElement(l.TextControl,{label:(0,o.__)("Svg Code","blockbite-icon"),value:a,onChange:p,help:(0,o.__)("Add your Svg Code, make sure it starts with <svg ...","blockbite-icon")})),c().createElement("p",null,"Replace or add a currentFill or currentStroke so you can color your icons with the color palette"),c().createElement("div",{className:"flex gap-2"},c().createElement(l.Button,{variant:"secondary",onClick:function(){return(e=(e=a).replace(/fill="[^"]*"/g,'fill="currentColor"')).includes("fill=")||(e=e.replace(/<path|<rect/g,(function(e){return"".concat(e,' fill="currentColor"')}))),void n({svgCode:e});var e}},"Replace Fill"),c().createElement(l.Button,{variant:"secondary",onClick:function(){return(e=(e=a).replace(/stroke="[^"]*"/g,'stroke="currentColor"')).includes("stroke=")||(e=e.replace(/<path|<rect/g,(function(e){return"".concat(e,' stroke="currentColor"')}))),void n({svgCode:e});var e}},"Replace Current"))))),!h()&&c().createElement(l.PanelBody,{title:"Link",initialOpen:!1},c().createElement(v,{parentCallback:b,linkUrl:u,linkTitle:f,linkTarget:d,showLinkTile:!1}))),c().createElement(i.BlockControls,{group:"other"},c().createElement(l.ToolbarGroup,null,c().createElement(s(),{parentCallback:function(e){p(e)},initialIconCode:a}),!h()&&c().createElement(k(),{parentCallback:b,linkUrl:u,linkTitle:f,linkTarget:d,showLinkTile:!1}))))},save:function(e){var t=e.attributes,n=t.svgCode,r=t.linkTarget,l=t.linkUrl,o=t.linkTitle,a=i.useBlockProps.save({className:"".concat(l?"bf_relative":"")});return React.createElement("div",a,React.createElement("span",{dangerouslySetInnerHTML:{__html:n}}),l?React.createElement("a",{rel:"noopener noreferrer",target:r,href:l,title:o,className:"bf_tile"}):null)}})})();