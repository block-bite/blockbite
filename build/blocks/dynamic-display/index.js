(()=>{"use strict";var e,t={19379:(e,t,n)=>{const i=window.wp.blocks;var s=n(4596),a=n.n(s),o=n(82575);const r=JSON.parse('{"UU":"blockbite/dynamic-display"}');var l=n(49989);(0,i.registerBlockType)(r.UU,{example:{attributes:{message:"Dynamic Display"}},icon:l.A,edit:a(),save:o.A})},4596:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{attributes:t}=e,{contentId:n,renderTag:i,designId:c}=t,[d,u]=(0,o.useState)(null);return(0,o.useEffect)((()=>{n?(0,a.default)({path:`${blockbite.api}/dynamic-content/render/?contentId=${n}&designId=${c}&renderTag=${i}`}).then((e=>{var t;(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.length)>0?(u(e.data),(0,l.cssEditorParser)(e.data[0],`blockbite-dynamic-design-${n}`)):u([])})).catch((e=>{})):u(null)}),[n]),"slide"===i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.DynamicDisplayPanel,Object.assign({},e)),(null==d?void 0:d.length)>0?d.map(((e,t)=>(0,s.jsx)("swiper-slide",{children:(0,s.jsx)(o.RawHTML,{children:e})},`data_${t}`))):(0,s.jsx)("p",{children:"No content available for the selected ID."})]}):(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)(r.DynamicDisplayPanel,Object.assign({},e)),(null==d?void 0:d.length)>0?d.map(((e,t)=>(0,s.jsx)(o.RawHTML,{children:`${e}`},`data_${t}`))):(0,s.jsx)("p",{children:"No content available for the selected ID."})]})};const s=n(74848),a=i(n(1455)),o=n(86087),r=n(53494),l=n(35788)},82575:(e,t,n)=>{t.A=function(){return i.useBlockProps.save(),null};const i=n(94715)},2649:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DesignContext=t.createDesignStore=void 0;const i=n(86087),s=n(82510);t.createDesignStore=e=>{const t={currentStrategy:"",currentInteraction:"",currentMatcher:"",currentProse:"",currentResponsive:"",currentEditorType:"",defaultDesign:[],meta:{bitesId:""},currentDesign:[],currentClass:"",currentControl:{},currentUnit:"",content:{},defaultReady:!1};return(0,s.createStore)()((n=>Object.assign(Object.assign(Object.assign({},t),e),{setCurrentStrategy:e=>n((()=>({currentStrategy:e}))),setCurrentMatcher:e=>n((()=>({currentMatcher:e}))),setCurrentProse:e=>n((()=>({currentProse:e}))),setCurrentInteraction:e=>n((()=>({currentInteraction:e}))),setCurrentResponsive:e=>n((()=>({currentResponsive:e}))),setCurrentEditorType:e=>n((()=>({currentEditorType:e}))),setCurrentDesign:e=>n((()=>({currentDesign:e}))),setCurrentClass:e=>n((()=>({currentClass:e}))),setMeta:e=>n((()=>({meta:e}))),setCurrentControl:e=>n((()=>({currentControl:e}))),setCurrentUnit:e=>{n((()=>({currentUnit:e})))},setContent:e=>{n((()=>({content:e})))},setDefaultReady:e=>{n((()=>({defaultReady:e})))}})))},t.DesignContext=(0,i.createContext)(null),t.default={createDesignStore:t.createDesignStore,DesignContext:t.DesignContext}},53494:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicDisplayPanel=void 0;const s=n(74848),a=n(27723),o=n(94715),r=n(56427),l=n(86087),c=i(n(1455)),d=n(60482),u=n(48324),p=n(43478);t.DynamicDisplayPanel=e=>{const{attributes:t,setAttributes:n}=e,{contentId:i,designId:f,renderTag:g}=t,[b,m]=(0,l.useState)([]);return(0,l.useEffect)((()=>{(0,c.default)({path:`${blockbite.api}/dynamic-content/`}).then((e=>{var t;(null===(t=null==e?void 0:e.result)||void 0===t?void 0:t.length)>0&&m(e.result)}))}),[]),(0,s.jsx)(o.InspectorControls,{children:(0,s.jsx)(r.PanelBody,{title:(0,a.__)("Dynamic Display","blockbit"),initialOpen:!0,children:(0,s.jsxs)(p.Wrap,{important:!0,className:"flex flex-col gap-4",children:[(0,s.jsx)(u.ChapterDivider,{title:"Select Dynamic Content"}),(0,s.jsx)(d.SelectControlWrapper,{defaultValue:i,options:b.map((e=>({label:`${e.id} - ${e.title}`,value:e.id}))),onChange:e=>{n({contentId:e})}}),(0,s.jsx)(d.SelectControlWrapper,{label:(0,a.__)("Design","blockbite"),defaultValue:f,options:[{label:(0,a.__)("Slot A","blockbite"),value:"slot-a"},{label:(0,a.__)("Slot B","blockbite"),value:"slot-b"},{label:(0,a.__)("Slot C","blockbite"),value:"slot-c"},{label:(0,a.__)("Slot D","blockbite"),value:"slot-d"}],onChange:e=>n({designId:e})}),(0,s.jsx)(d.SelectControlWrapper,{label:(0,a.__)("Render Tag","blockbite"),defaultValue:g,options:[{label:"Element",value:"element"},{label:"Carousel Slide",value:"slide"}],onChange:e=>n({renderTag:e})})]})})})},t.default=t.DynamicDisplayPanel},48324:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChapterDivider=void 0;const s=n(74848),a=i(n(46942));t.ChapterDivider=({id:e="",title:t,className:n,help:i})=>(0,s.jsxs)("div",Object.assign({},e?{id:e}:null,{className:(0,a.default)("mb-4",n),children:[(0,s.jsxs)("div",{className:"flex w-full flex-wrap items-center gap-2",children:[(0,s.jsx)("small",{className:"shrink-1 text-[12px]",children:t}),(0,s.jsx)("span",{className:"h-[1px] w-full bg-easy"})]}),i&&(0,s.jsx)("small",{className:"w-full shrink-0 text-[12px]",children:i})]}))},60482:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectControlWrapper=void 0;const i=n(74848),s=n(86087),a=n(56427),o=n(43478);t.SelectControlWrapper=({onChange:e,className:t,defaultValue:n,options:r,label:l=""})=>{const[c,d]=(0,s.useState)("");(0,s.useEffect)((()=>{d(n)}),[]);return(0,i.jsxs)(o.Wrap,{className:t,children:[l&&(0,i.jsx)("label",{className:"my-1 font-sans text-[14px] text-black",children:l}),(0,i.jsx)(a.SelectControl,{value:c||"",onChange:t=>{d(t),e&&e(t)},options:[{value:"",label:"Select an option"},...r]})]})}},43478:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Wrap=void 0;const i=n(74848);t.Wrap=({children:e,className:t,important:n=!1,onClick:s})=>n?(0,i.jsx)("div",{className:"bb_",onClick:s,children:(0,i.jsx)("div",{className:t,children:e})}):(0,i.jsx)("div",{className:t,children:e})},35788:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.cssEditorParser=t.useCssEditorParser=void 0;const i=n(86087),s=n(2649),a=n(82510),o=n(47143),r=n(69596),l=n(52208);t.useCssEditorParser=()=>{const e=(0,i.useContext)(s.DesignContext),{currentDesign:t,currentClass:n,defaultReady:c,setCurrentEditorType:d,setCurrentResponsive:u}=(0,a.useStore)(e);let p=(0,i.useRef)(null);const{device:f,editorType:g}=(0,o.useSelect)((e=>({device:e("biteStore/editor").getDevice(),editorType:e("biteStore/editor").getEditorType()})),[]),b=(e,t)=>{(null==p?void 0:p.current)?(0,r.updateIframeCss)(e,p.current,t):(0,r.updateInlineCss)(e,t)};(0,i.useEffect)((()=>{u(f),d(g)}),[f,g]),(0,i.useEffect)((()=>{p.current=(0,r.initCssParser)("b_",f,g);let e=(0,r.cssBlockContent)();const t=Object.assign({},blockbite.editorCssCache);if(t.tw===e&&t.device===f&&t.editorType===g)return;const n=(0,l.configTwStore)({important:"#b_"});blockbite.editorCssConfig=n,b({content:e,config:n,component:"",checkBase:!0},"blockbite-cssparser-inline-page"),blockbite.editorCssCache={device:f,editorType:g,tw:e}}),[f,g]),(0,i.useEffect)((()=>{c&&b({content:n,config:blockbite.editorCssConfig,component:"",checkBase:!1},"blockbite-cssparser-inline-current")}),[n,t.length])};t.cssEditorParser=(e="",t="blockbite-cssparser-inline-page",n=!1)=>{const i=wp.data.select("biteStore/editor").getDevice(),s=wp.data.select("biteStore/editor").getEditorType();let a=(0,r.initCssParser)("b_",i,s);const o=(0,l.configTwStore)({important:"#b_"});blockbite.editorCssConfig=o,((e,t)=>{a?(0,r.updateIframeCss)(e,a,t):(0,r.updateInlineCss)(e,t)})({content:e,config:o,component:"",checkBase:n},t)},t.default={useCssEditorParser:t.useCssEditorParser,cssEditorParser:t.cssEditorParser}},69596:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function r(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateIframeCss=t.updateInlineCss=t.parseCss=t.headingsCss=t.removeStaticParsedStyles=t.initCssParser=t.getEditorIframe=t.cssBlockContent=void 0;const s=n(81848),a=n(90430);function o(e){return e.flatMap((e=>{var t;const{biteClass:n,mediaClass:i,flexClass:s}=e.attributes||{},a={biteClass:n,mediaClass:i,flexClass:s};let r=[];if(null===(t=e.innerBlocks)||void 0===t?void 0:t.length)r=o(e.innerBlocks);else if(e.clientId){const t=wp.data.select("core/block-editor").getBlocks(e.clientId);(null==t?void 0:t.length)&&(r=o(t))}return[a,...r]}))}t.cssBlockContent=()=>o(wp.data.select("core/block-editor").getBlocks()).map((({biteClass:e,mediaClass:t,flexClass:n})=>[e,t,n].filter(Boolean).join(" "))).join(" ");t.getEditorIframe=()=>{const e=document.querySelector(".block-editor-iframe__scale-container");return e?e.querySelector("iframe"):null};t.initCssParser=(e,n,i)=>{const s=document.querySelector(".editor-styles-wrapper");if("xs"===n||"md"===n||"edit-site"===i){const n=(0,t.getEditorIframe)();if(n){return n.contentDocument.body.setAttribute("id",e),n}}if(s){const t=s.parentElement;return t.setAttribute("id",e),t}};t.removeStaticParsedStyles=(e,t)=>{const n=e.getElementById(t);n&&n.remove()};t.headingsCss=(e,t=".wp-block")=>{let n="";return(e||[]).forEach((e=>{""!==e.value&&(n+=`${t} ${e.name} {\n`,n+=` @apply text-${e.value};\n`,e.optional&&e.optional.lineHeight&&(n+=`    line-height: ${e.optional.lineHeight};\n`),e.optional&&e.optional.font&&(n+=` @apply font-${e.optional.font};\n`),n+="  }\n")})),n};t.parseCss=e=>i(void 0,void 0,void 0,(function*(){const{content:t="",config:n={},component:i="",checkBase:o=!1}=e,r=(0,s.createTailwindcss)({tailwindConfig:n});let l="";o&&(l+=` ${blockbite.settings.tw_base?"@tailwind base;":a.tw_base_vars}`),l+="\n      @tailwind components;\n      @tailwind utilities;\n    ",i&&(l+=`\n      ${i}\n      `);const c={content:t};try{return yield r.generateStylesFromContent(l,[c.content.trim()])}catch(e){if("CssSyntaxError"===e.name){const t=/`([^`]*)`/g.exec(e.message);if(t){const e=t[1];wp.data.dispatch("core/notices").createNotice("error",`Error on saving the blockbites, it looks likes there is tailwind class that doesn't exist.\n              Please check your bitestyle that generated this wrong classname: ${e} and remove it. Help us to prevent this error by creating an issue on github`,{id:"blockbite-notice",isDismissible:!0,actions:[{url:`https://github.com/block-bite/blockbite-dev/issues/new?title=wrong tailwind%20classname%20${e}`,label:"Create issue on github"}]})}return""}throw e}}));t.updateInlineCss=(e,n)=>(0,t.parseCss)(e).then((e=>{let t=document.getElementById(n);if(t)t.innerHTML=e;else{const t=document.createElement("style");t.id=n,t.innerHTML=e,document.head.appendChild(t)}}));t.updateIframeCss=(e,n,i)=>(0,t.parseCss)(e).then((e=>{if(n&&n.contentDocument){const t=n.contentDocument;let s=t.getElementById(i);s||(s=t.createElement("style"),s.id=i,t.head.appendChild(s)),s.innerHTML=e}})),t.default={cssBlockContent:t.cssBlockContent,updateInlineCss:t.updateInlineCss,parseCss:t.parseCss,headingsCss:t.headingsCss,removeStaticParsedStyles:t.removeStaticParsedStyles}},52208:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateTailwindPlugins=t.getBiteUtilsPlugin=t.updateTailwindTheme=t.configTwStore=t.configTwBase=void 0;const s=n(28093),a=n(76667),o=i(n(96526)),r=i(n(53756)),l=i(n(42995)),c=i(n(93328)),d=i(n(91673)),u=i(n(94662)),p=i(n(55916)),f=i(n(35670)),g=Object.assign(Object.assign({},(0,a.gridSpacing)("b_")),(0,a.fluidSpacing)("b_"));t.configTwBase=()=>({important:"",theme:{container:(0,a.getContainer)(),extend:{spacing:g,gap:g,minWidth:g,maxWidth:g,minHeight:g,maxHeight:g,aspectRatio:(0,a.getAspectRatio)(),colors:{},fontSize:{},fontFamily:{},screens:(0,a.getScreens)("b_"),borderWidth:{1:"1px"},gridTemplateColumns:{13:"repeat(13, minmax(0, 1fr))",14:"repeat(14, minmax(0, 1fr))",15:"repeat(15, minmax(0, 1fr))",16:"repeat(16, minmax(0, 1fr))"},gridColumn:{"span-13":"span 13 / span 13","span-14":"span 14 / span 14","span-15":"span 15 / span 15","span-16":"span 16 / span 16"},gridColumnStart:{13:"13",14:"14",15:"15",16:"16"},gridColumnEnd:{13:"13",14:"14",15:"15",16:"16"}}},plugins:[]});t.configTwStore=(e={})=>{const n=wp.data.select("biteStore/editor"),i=n.getUtils();let s=Object.assign({},(0,t.configTwBase)());e&&(s=Object.assign(Object.assign({},s),e));const{colors:a,fontSize:o,fontFamily:r}=(0,t.updateTailwindTheme)(n);return s.theme.extend=Object.assign(Object.assign({},s.theme.extend),{colors:a,fontSize:o,fontFamily:r}),s.plugins=(0,t.updateTailwindPlugins)(i,s),s};const b=e=>null==e?{}:e.reduce(((e,t)=>(e[t.token]=t.value,e)),{});t.updateTailwindTheme=(e={getTheme:()=>({colors:{},fonts:{},fontSizes:{}})})=>{const t="function"==typeof e.getTheme?e.getTheme():e,{colors:n,fonts:i,fontSizes:s}=t;return{colors:Object.assign({},b(n)),fontFamily:Object.assign({},b(i)),fontSize:Object.assign({},b(s))}};t.getBiteUtilsPlugin=e=>s((function({addUtilities:t}){const n=e.getUtils();if(n.length>0){const e={};n.forEach((t=>{t.tw&&(e[`.${t.id}`]={[`@apply ${t.tw.trim()}`]:{}})})),t(e)}}));t.updateTailwindPlugins=(e,t)=>{const{theme:n,important:i}=t,a=i?`${i} `:"",g=[o.default,r.default,d.default,c.default,u.default,l.default,p.default,l.default,f.default,s((function({addVariant:t,addBase:i,config:s}){if(t("b_active-child",".b_active &"),t("b_active","&.b_active"),e.length>0){const t={};e.forEach((n=>{n.related&&n.related.length>0&&n.related.forEach((t=>{const i=e.find((e=>e.id===t));(null==i?void 0:i.tw)||(n.tw=n.tw.replace(t,""))})),n.tw&&(t[`${a}.${n.id}`]={[`@apply ${n.tw.trim()}`]:{}})})),i(t)}let o={};(null==n?void 0:n.headings)&&(n.headings.forEach((e=>{var t,n;const i=null===(t=null==e?void 0:e.optional)||void 0===t?void 0:t.lineHeight,r=null===(n=null==e?void 0:e.optional)||void 0===n?void 0:n.font;e.name&&(o[`${a}${e.name}`]={fontSize:s(`theme.fontSize.${e.value}`),lineHeight:i||1.4}),r&&(o[`${a}${e.name}`].fontFamily=s(`theme.fontFamily.${r}`))})),Object.keys(o).length>0&&i(o))}))];return g},t.default={updateTailwindPlugins:t.updateTailwindPlugins,updateTailwindTheme:t.updateTailwindTheme,getBiteUtilsPlugin:t.getBiteUtilsPlugin,configTwStore:t.configTwStore,configTwBase:t.configTwBase}},51609:e=>{e.exports=window.React},1455:e=>{e.exports=window.wp.apiFetch},94715:e=>{e.exports=window.wp.blockEditor},56427:e=>{e.exports=window.wp.components},47143:e=>{e.exports=window.wp.data},86087:e=>{e.exports=window.wp.element},27723:e=>{e.exports=window.wp.i18n}},n={};function i(e){var s=n[e];if(void 0!==s)return s.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,i),a.exports}i.m=t,e=[],i.O=(t,n,s,a)=>{if(!n){var o=1/0;for(d=0;d<e.length;d++){n=e[d][0],s=e[d][1],a=e[d][2];for(var r=!0,l=0;l<n.length;l++)(!1&a||o>=a)&&Object.keys(i.O).every((e=>i.O[e](n[l])))?n.splice(l--,1):(r=!1,a<o&&(o=a));if(r){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,s,a]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={611:0,950:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var s,a,o=n[0],r=n[1],l=n[2],c=0;if(o.some((t=>0!==e[t]))){for(s in r)i.o(r,s)&&(i.m[s]=r[s]);if(l)var d=l(i)}for(t&&t(n);c<o.length;c++)a=o[c],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(d)},n=self.webpackChunkblockbite=self.webpackChunkblockbite||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s=i.O(void 0,[841,574,395],(()=>i(19379)));s=i.O(s)})();